require(psidR)

# Sample period
years = c(c(1969:1997), seq(1999, 2011, 2))

# Family-level variables
head.age <-
  c("V117", "V1008", "V1239", "V1942", "V2542", "V3095", "V3508", "V3921", 
    "V4436",  "V5350", "V5850", "V6462", "V7067", "V7658", "V8352", "V8961", 
    "V10419", "V11606", "V13011", "V14114",  "V15130",	"V16631",	"V18049",	
    "V19349",	"V20651", "V22406", "ER2007", "ER5006", "ER7006","ER10009",
    "ER13010","ER17013","ER21017", "ER25017","ER36017","ER42017", "ER47317")

head.income <- 
  c("V74","V514", "V1196", "V1897", "V2498", "V3051", "V3463", "V3863", "V5031",
    "V5627", "V6174", "V6767", "V7413","V8066", "V8690", "V9376", "V11023", 
    "V12372", "V13624", "V14671", "V16145", "V17534", "V18878", "V20178", 
    "V21484", "V23323", "ER4140", "ER6980","ER9231","ER12080","ER16463",
    "ER20443","ER24116", "ER27931","ER40921", "ER46829","ER52237")

head.hours <-
  c("V47", "V465", "V1138", "V1839", "V2439", "V3027", "V3423", "V3823",  
    "V4332", "V5232", "V5731", "V6336", "V6934", "V7530", "V8228", "V8830", 
    "V10037","V11146","V12545","V13745", "V14835", "V16335", "V17744", "V19044", 
    "V20344",  "V21634", "ER4096",  "ER6936", "ER9187" ,"ER12174","ER16471",
    "ER20399","ER24080","ER27886","ER40876", "ER46767","ER52175")

fam.1968int <- 
  c("V3", "V534","V1230","V1932","V2533","V3085","V3497","V3909","V4423",
    "V5336","V5835","V6446","V7050","V7642","V8335","V8943","V10400","V11581",
    "V12988","V14090","V15105","V16605","V18021","V19321","V20621","V22400",
    NA,NA,NA,NA,"ER13019","ER17022","ER21009","ER25009","ER36009",
    "ER42009","ER47309")

# Individual-level variables
ind.age <-
  c("ER30004","ER30023","ER30046","ER30070","ER30094","ER30120","ER30141",
    "ER30163","ER30191","ER30220","ER30249","ER30286","ER30316","ER30346",
    "ER30376","ER30402","ER30432","ER30466","ER30501","ER30538","ER30573",
    "ER30609","ER30645","ER30692","ER30736","ER30809","ER33104","ER33204",
    "ER33304","ER33404","ER33504","ER33604","ER33704","ER33804","ER33904",
    "ER34004","ER34104")

ind.grades <-
  c("ER30010",  NA   ,"ER30052","ER30076","ER30100","ER30126","ER30147",
    "ER30169","ER30197","ER30226","ER30255","ER30296","ER30326","ER30356",
    "ER30384","ER30413","ER30443","ER30478","ER30513","ER30549","ER30584",
    "ER30620","ER30657","ER30703","ER30748","ER30820","ER33115","ER33215",
    "ER33315","ER33415","ER33516","ER33616","ER33716","ER33817","ER33917",
    "ER34020","ER34119")

myvars <- data.frame(year=years, head.age[-1], head.income[-1], head.hours[-1])
indvars <- data.frame(year=years, ind.age[-1])#, ind.grades)

d <- build.panel(datadir="/PSID/dta",
                 fam.vars=myvars,
                 ind.vars=indvars,
                 verbose=TRUE,
                 sample="SRC")

panel = d$data
